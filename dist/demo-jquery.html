<!DOCTYPE html>
<html>
  <head>
    <title>Walls.io-Widget Demo</title>
    <script src="js/lib/jquery-2.1.0.min.js" type="text/javascript"></script>
    <script src="js/wallsio.jquery.js" type="text/javascript"></script>
    <script>
    $(function() {
      $("#mywall").wall({
        accessToken: "5f864451221b0e8d2ff61b3179ac1a3b5d4ac9e3",
        template: $("#my-template").html(),
        beforeInsert: function(html, post) {
          if (/coffee/i.test(html)) {
            return html
          } else {
            return ""
          }
        },
        afterInsert: function($el) {
          setTimeout(function() { $el.css("background", "red") }, 2000);
        }
      });
    });
    </script>
  </head>
  <body>
    <div id="mywall"></div>
    <script type="text/html" id="my-template">
    <div class="post">
      <strong><%=external_name%>:</strong> <%=comment%><br>
      <small><%=type%></small>
      <% if (post_image) { %>
        <img src="<%=post_image%>">
      <% } %>
    </div>
    </script>
  </body>
</html>
